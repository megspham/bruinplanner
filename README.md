# Bruin Planner
Andy [Han] Goh, Belle Lerdworatawee, Ian Galvez, Megan Pham, Ravit Sharma, Taykhoom Dalal

## Documentation
View the documentation for the BruinPlanner at the [Bruin Planner Docs Page](https://andygoh5.github.io/bruin-planner-docs/).
## Setup
- Download/clone repo.
### Backend setup
- Download MySql and start a server
- Create a database with `mysql -u root -p -e "CREATE DATABASE IF NOT EXISTS bruinplanner;"`
- Populate UCLA courses with `mysql -u root -p bruinplanner < dump.txt`
- Create an emtpy user table with `mysql -u root -p bruinplanner -e "CREATE TABLE IF NOT EXISTS users (id VARCHAR(100), calendar TEXT);
ALTER TABLE users ADD UNIQUE (id);"`
- Create and activate a virtual environment https://virtualenvwrapper.readthedocs.io/en/latest/. 
- Install Django and other dependencies with `pip install -r requirements.txt`.
- Run Django app using `python manage.py runserver`.
### Frontend setup
- Install yarn with `npm install -g yarn`.
- Install React dependencies with `yarn install`. 
- Run React app with `yarn start`.

- To demote your npm, use https://stackoverflow.com/questions/47008159/how-to-downgrade-node-version

## Main Directory Structure
```
.
├── README.md
├── backend
│   ├── backend_REST_API.py
│   ├── cons.py
│   ├── db_utils.py
│   ├── json_format.py
│   ├── macros.py
│   ├── parse_dars.py
│   ├── populate_courses.py
│   └── populate_database.py
├── docs
│   ├── backend
│   └── frontend
├── requirements.txt
├── src
│   ├── App.css
│   ├── App.js
│   ├── components
│   │   ├── CalendarPage
│   │   ├── CustomizedButton.js
│   │   ├── DARSPage
│   │   ├── Draggable.js
│   │   ├── DropdownButton.css
│   │   ├── DropdownButton.js
│   │   ├── Droppable.js
│   │   ├── LandingPage
│   │   ├── Login.js
│   │   ├── Logout.js
│   │   ├── SidebarButton.css
│   │   ├── SidebarButton.js
│   │   ├── SidebarGroups
│   │   │   └── class-info
│   │   │       └── get_classes.py
│   │   ├── SortableItem.js
│   │   ├── images
│   │   └── utils
│   ├── index.css
│   ├── index.js
│   └── registerServiceWorker.js
└── tests
    ├── README.md
    ├── backend
    │   ├── course_database_population
    │   ├── dars_database_population
    │   ├── dars_parsing
    │   ├── database_population
    │   └── get_course_info
    └── frontend
        ├── google_signin
        ├── responsive_design
        └── upload_dars
```
- The `backend` directory includes all the Python scripts needed for the project, including the DARs parser and database manager.
- The `docs` directory includes the documentation for both the backend and the frontend, with the backend docs generated by pdoc in Python and the frontend docs generated by JSDoc (not implemented yet)
- The `src` directory includes the files needed to create the website, including the JavaScript and CSS files, along with the assets.
    - The `components` subdirectory includes our components (can be thought of as classes, in a way). Some components included are the Calendar, CustomizedButton, Google Sign-in, etc.
- The `tests` directory includes the testing documentation, which is separated into `backend` and `frontend` subdirectories.